# Letter to Myself (Session Handoff)

**Date:** 2026-01-30 13:35

## 1. Executive Summary
* **Goal:** Configure and fix the Letter to Blog pipeline, rename from "Vibe Coding", add new features
* **Current Status:** Complete — all features implemented and pushed

## 2. The "Done" List (Context Anchor)
* Configured global Anthropic API key at `~/.config/letter-for-my-future-self/config.json`
* Fixed model ID in `blog_gen.py`: `claude-3-5-sonnet-20241022` → `claude-sonnet-4-20250514`
* Fixed file sorting in `get_memory_file()`: now matches `letter_(\d+)\.md` with numeric sort
* Renamed "Vibe Coding" → "Letter to Blog" across 14 files
* Renamed `VIBE_CODING.md` → `LETTER_TO_BLOG.md` and updated all references
* Added `--file`/`-f` flag to `blog_gen.py` for specifying a memory file
* Changed filename format to `letter_YYYYMMDD_XXXX.md` (date + zero-padded counter)
* Updated both skill files (repo + global `~/.claude/skills/save-checkpoint/skill.md`)

## 3. The "Pain" Log (CRITICAL)
* **Tried:** Using model `claude-3-5-sonnet-20241022`
* **Failed:** `anthropic.NotFoundError: 404` — model no longer exists
* **Workaround:** Updated to `claude-sonnet-4-20250514`

* **Tried:** Alphabetic sorting of letter files
* **Failed:** `letter_example.md` selected over `letter_03.md` ('e' > '0')
* **Workaround:** Regex match for numeric files only, sort by integer value

* **Tried:** Setup hook prompting for API key during plugin install
* **Failed:** Hook runs non-interactively (no TTY), `read -p` skipped
* **Workaround:** Manual key configuration; TODO: fix setup UX

## 4. Active Variable State
* Global API key: `~/.config/letter-for-my-future-self/config.json` (ends with `...HwAA`)
* GitHub secret: `ANTHROPIC_API_KEY` configured
* Branch: `main` at commit `90a8411`
* New filename format active: `letter_YYYYMMDD_XXXX.md`

## 5. Immediate Next Steps
1. [ ] Test blog generation with new `--file` flag
2. [ ] Fix `scripts/setup-api-key.sh` non-interactive TTY issue
3. [ ] Consider renaming `vibe_requirements.txt` and `vibe_publisher.yml` for consistency
4. [ ] Migrate old letter files to new naming format (optional)
